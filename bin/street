#!/usr/bin/env node

'use strict'

var program = require('commander')
var fs = require('fs')
var street = require('../index')

program
  .version('0.1.0')
  .usage('[options] <dir ...>')
  .option('-n, --dry-run', 'Dry Run')
  .parse(process.argv)

if (program.args.length != 1)
  return console.error('Error: One positional argument of a directory path is required. ' + program.args.length + ' found')

if (!fs.existsSync(program.args[0]))
  return console.error('Error: ' + program.args[0]+ ' directory does not exist.')

street(program.args[0], program.dryRun)
